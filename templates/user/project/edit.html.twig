{% extends 'base.html.twig' %}
{% block title %}Modifier Projet{% endblock %}
{% block body %}
<h2>Modifier le projet</h2>
<form method="post" action="{{ path('user_project_edit', {id: project.id}) }}">
  <div class="mb-3">
    <label for="name" class="form-label">Nom</label>
    <input type="text" class="form-control" id="name" name="name" value="{{ project.name }}" required>
  </div>
  <div class="mb-3">
    <label for="budget_initial" class="form-label">Budget Initial</label>
    <input type="number" class="form-control" id="budget_initial" name="budget_initial" value="{{ project.budgetInitial }}" step="0.01" required>
  </div>
  <div class="mb-3">
    <label for="seuil_alerte" class="form-label">Seuil d'Alerte</label>
    <input type="number" class="form-control" id="seuil_alerte" name="seuil_alerte" value="{{ project.seuilAlerte }}" step="0.01" required>
  </div>
  <div class="mb-3">
    <label for="liste_diffusion" class="form-label">Liste de Diffusion (séparée par des virgules)</label>
    <input type="text" class="form-control" id="liste_diffusion" name="liste_diffusion" value="{{ project.listeDiffusion|join(', ') }}" required>
  </div>
  <div class="mb-3">
    <label for="client" class="form-label">Client</label>
    <select class="form-control" id="client" name="client" required>
      {% for client in clients %}
        <option value="{{ client.id }}" {% if project.client and project.client.id == client.id %}selected{% endif %}>
          {{ client.siren }} - {{ client.name }}
        </option>
      {% endfor %}
    </select>
  </div>
  <button type="submit" class="btn btn-primary">Modifier</button>
</form>
{% endblock %}
